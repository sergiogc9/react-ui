import { ArgTypes, Controls, Meta, Story, Canvas, Preview } from 'storybook/utils/components';

import Toasts, { ToastOptions } from 'components/Toasts';

import * as ToastsMeta from './Toasts.stories';

<Meta of={ToastsMeta} />

# Toasts

The `Toasts` component gives a notification system based on toasts or floating alerts.

Most important features:

- Use same status variants from Alert component.
- Show toasts in different screen locations.
- Easily add and close toasts using the `useToasts` custom hook.
- Show a message text.
- Hide alert status icon if wanted.
- Show extra action content at right if wanted.
- Show a close button at right if wanted.
- Specify each toast duration individually or make it persistent (i.e. not hiding).

## Usage

- Use the `Toasts` component as a Provider at a higher level:

```tsx
import { Toasts } from '@sergiogc9/react-ui';

const App = () => {
  return (
    <Toasts placement='bottom-right'>
      {...}
    </Toasts>
  )
}
```

- Use the `addToast` and `closeToast` functions provided by `useToasts` custom hook. Remember that the component using the hook **must be wrapped with the Toasts component**.

```tsx
import { useToasts } from '@sergiogc9/react-ui';

const AwesomeComponent = () => {
	const { addToast } = useToasts();

	const onBtnClicked = React.useCallback(() => {
		addToast({ key: new Date().getTime(), message: 'Example text' });
	}, [addToast]);

	return <Button onClick={onBtnClicked}>Add toast</Button>;
};
```

**IMPORTANT:** Use a time based key value!. Adding a toast using an existing key will cause the toast to be updated.

## Toast options

Use the **playground** story to see all available options live:

<table>
	<tr>
		<th>Option</th>
		<th>Description</th>
		<th>Type</th>
		<th>Default</th>
		<th></th>
	</tr>
	<tr>
		<td>actionContent</td>
		<td> The content to be shown at right of the text. Can be any valid React element. </td>
		<td>ReactNode </td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td>aspectSize </td>
		<td> The Alert size. See the Alert component for further info. </td>
		<td>enum </td>
		<td></td>
	</tr>
	<tr>
		<td>duration </td>
		<td>
			The time in ms while the toast is shown, after this time the toast is dismissed automatically. Use an always value
			to make it persistent.
		</td>
		<td>number or "always" </td>
		<td>5000 </td>
		<td></td>
	</tr>
	<tr>
		<td>key </td>
		<td> The toast identifier. Use a time-based key. </td>
		<td>string </td>
		<td></td>
		<td>required </td>
	</tr>
	<tr>
		<td>hasIcon </td>
		<td> Boolean to show or hide the default Alert icon related to its status. </td>
		<td>boolean </td>
		<td>true </td>
		<td></td>
	</tr>
	<tr>
		<td>hasCloseBtn </td>
		<td> Boolean to show or hide the built-in close button at right. </td>
		<td>boolean </td>
		<td>false </td>
		<td></td>
	</tr>
	<tr>
		<td>onClose </td>
		<td>Handler called after the toast has been dismissed. It is called after the exit animation has been finished.</td>
		<td>Function </td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td>message </td>
		<td> The text to be shown inside the toast. </td>
		<td>string </td>
		<td></td>
		<td>required </td>
	</tr>
	<tr>
		<td>status </td>
		<td> The Alert status. See the Alert component for further info. </td>
		<td>enum </td>
		<td></td>
		<td></td>
	</tr>
</table>

## Toasts API

<ArgTypes of={Toasts} />
