import { ArgsTable, Meta, Story, Canvas } from 'storybook/utils/components';
import { getFixedStoryParams, getPlaygroundStoryParams } from 'storybook/parameters';
import Modal from 'components/Modal';
import { ModalStory } from './Modal';

<Meta title="Components/Modal" component={Modal} />

# Modal

The Modal component show content on top of the page. You can use the `Header`, `Content`, `Footer` and `Close` namespaced components to easily layout the modal.

Each Modal is inserted inside a div with an id equal to `modals` that should be located outside the `root` div where React is mounted in. If the `modals` div is not found, the Modal is inserted as a `body` child.
If you don't want this approach, set the prop `withPortal` to false.

The `Modal.Header` component includes the `Modal.Close` button but you can use the `Modal.Close` standalone. It will be absoultelly positioned at top-right by default.

The modal visibility can be used **uncontrolled** or **controlled** from outside. To control its visibility from outside use the `isVisible` and `onClose` props.

<Story name="playground" args={{ aspectSize: 'm' }} parameters={getPlaygroundStoryParams()}>
	{args => <ModalStory {...args} />}
</Story>

<Canvas>
	<Story name="default" args={{}} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} />}
	</Story>
</Canvas>

## Sizes

You can change the Modal size using the `aspectSize` prop. From smaller to bigger:

<Canvas>
	<Story name="s" args={{}} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} aspectSize="s" />}
	</Story>
	<Story name="m" args={{}} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} aspectSize="m" />}
	</Story>
	<Story name="l" args={{}} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} aspectSize="l" />}
	</Story>
	<Story name="xl" args={{}} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} aspectSize="xl" />}
	</Story>
</Canvas>

## Overlay

The modal, by default uses a background Overlay behind it. You can disable it with the prop `withOverlay`:

With overlay:

<Canvas>
	<Story name="with overlay" args={{ withOverlay: true }} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} />}
	</Story>
</Canvas>

Without overlay:

<Canvas>
	<Story name="without overlay" args={{ withOverlay: false }} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} />}
	</Story>
</Canvas>

## Closing the modal

The modal, by default can be closed by clicking anywhere outside of it or pressing the `Escape` key. This can be disabled using the props `closeOnOutsideClick` and `closeOnEsc`:

Default closing behavior:

<Canvas>
	<Story name="default close" args={{}} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} />}
	</Story>
</Canvas>

Clicking outside closing behavior disabled:

<Canvas>
	<Story name="outside click disabled" args={{ closeOnOutsideClick: false }} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} />}
	</Story>
</Canvas>

Pressing escape closing behavior disabled:

<Canvas>
	<Story name="esc press disabled" args={{ closeOnEsc: false }} parameters={getFixedStoryParams()}>
		{args => <ModalStory {...args} />}
	</Story>
</Canvas>

# Modal API

<ArgsTable of={Modal} />
