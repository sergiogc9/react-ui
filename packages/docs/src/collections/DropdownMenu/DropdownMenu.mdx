import { ArgTypes, Controls, Meta, Story, Canvas, Preview } from 'storybook/utils/components';

import DropdownMenu from 'collections/DropdownMenu';

import * as DropdownMenuMeta from './DropdownMenu.stories';

<Meta of={DropdownMenuMeta} />

# DropdownMenu

The Dropdown Menu is a `PopoverContent` wrapper in order to show a drop down when hovering or clicking an element.

Most important features:

- It is a `Popover.Content` component, hence it inherits all its props.
- Includes the `MenuDropdown.Title`, `MenuDropdown.Icon` and `MenuDropdown.Footer` namespaced components ready to use.

<Canvas of={DropdownMenuMeta.Playground} />

<Controls />

## Usage

Look for `Popover` docs for further info. Use the `reference` prop with a ref linked to the component that acts as the trigger.

```tsx
const App = props => {
	const triggerRef = React.useRef();

	return (
		<>
			<Flex cursor="pointer" ref={triggerRef}>
				I am the trigger ðŸ˜„
			</Flex>
			<DropdownMenu reference={triggerRef}>
				<DropdownMenu.Title>Sergio GÃ³mez</DropdownMenu.Title>
				<DropdownMenu.Item onClick={() => alert('User settings!')}>
					<DropdownMenu.Item.Icon icon="user-circle" styling="outlined" />
					<DropdownMenu.Item.Text>User settings</DropdownMenu.Item.Text>
				</DropdownMenu.Item>
				<DropdownMenu.Item onClick={() => alert('Company settings!')}>
					<DropdownMenu.Item.Icon icon="business" styling="outlined" />
					<DropdownMenu.Item.Text>Company settings</DropdownMenu.Item.Text>
				</DropdownMenu.Item>
				<DropdownMenu.Item onClick={() => alert('Chat support!')}>
					<DropdownMenu.Item.Icon.FontAwesome icon={faHeadset} />
					<DropdownMenu.Item.Text>Chat support</DropdownMenu.Item.Text>
				</DropdownMenu.Item>
				<DropdownMenu.Footer justifyContent="flex-end">
					<Button aspectSize="s">Logout</Button>
				</DropdownMenu.Footer>
			</DropdownMenu>
		</>
	);
};
```

## Positioning

Use the `placement` prop to place the component. Example with some placements:

<Canvas>

<Story of={DropdownMenuMeta.LeftStart}/>
<Story of={DropdownMenuMeta.Bottom}/>
<Story of={DropdownMenuMeta.Right}/>
</Canvas>

## User interaction

By default, the dropdown menu is shown when hovering the trigger element and is hidden when unhoverint it. This behavior can be changes using the `isInteractive` prop which keeps the dropdown visible if the user hovers it.

<Canvas>

<Story of={DropdownMenuMeta.NonInteractive}/>
<Story of={DropdownMenuMeta.Interactive}/>
</Canvas>

## Event trigger

The dropdown is shown when hovering the trigger by default. This can be changes using the `trigger` prop:

<Canvas>

<Story of={DropdownMenuMeta.Hover}/>
<Story of={DropdownMenuMeta.Click}/>
</Canvas>

## DropdownMenu API

<ArgTypes of={DropdownMenu} />

## DropdownMenu.Footer API

<ArgTypes of={DropdownMenu.Footer} />

## DropdownMenu.Item API

<ArgTypes of={DropdownMenu.Item} />

## DropdownMenu.Title API

<ArgTypes of={DropdownMenu.Title} />
